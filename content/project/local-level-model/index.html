---
title: Local Level Model
author: admin
date: '2021-07-01'
summary: 'In this short project, we present some exercices regarding the Local Level Model. We apply the Kalman filter to simulated data and illustarte the pile-up problem that may occur for maximum likelihood estimation and small sample size.'
slug: []
categories:
#  - Macroeconometrics
#  - Local Level Model
#  - Kalman Filter
tags:
  - Macroeconometrics
  - Local Level Model
  - Kalman Filter
links:
- icon: twitter
  icon_pack: fab
  name: Follow
  url: https://twitter.com/georgecushen
slides: ""
math: true
description: Description for the page
bibliography: [bibliography.bib]
editor_options: 
  chunk_output_type: console
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>
<script src="{{< blogdown/postref >}}index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="{{< blogdown/postref >}}index_files/plotly-binding/plotly.js"></script>
<script src="{{< blogdown/postref >}}index_files/mathjax/cdn.js"></script>
<script src="{{< blogdown/postref >}}index_files/typedarray/typedarray.min.js"></script>
<script src="{{< blogdown/postref >}}index_files/jquery/jquery.min.js"></script>
<link href="{{< blogdown/postref >}}index_files/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/crosstalk/js/crosstalk.min.js"></script>
<link href="{{< blogdown/postref >}}index_files/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/plotly-main/plotly-latest.min.js"></script>


<div id="preliminaries" class="section level1">
<h1>Preliminaries</h1>
<p>In this short project, we will apply and discuss some properties of the local level model. First, we use simulated time series to apply the Kalman Filter. Second, we discuss the properties of the Maximum Likelihood Estimator (MLE) in a small Monte Carlo simulation exercise. Within this framework, we will also analyze the pile-up problem of the MLE estimator.</p>
</div>
<div id="local-level-model" class="section level1">
<h1>Local Level Model</h1>
<p>The Local Level Model is based on two equations, namely the measurement equation and the transition (or state) equation. The measurement equation represents a noisy signal that is observed by the agent. The true underlying data generation process in the form of the transition equation is not directly observed by the agent. An example for this framework could be as follows. When professional analysts have to forecast GDP, they might not observe a perfect signal of GDP - presumably, the data they observe contains some measurement inaccuracies. Often, the GDP data is subject to continuous revisions in the first few quarters after the first publication of the data. Using this noisy signal of GDP, the forecasters then try to “filter out” the noise in an optimal way to forecast GDP according their assumption of the underlying data generating process.</p>
<p>The framework of an exemplary Local Level Model is presented below.
<span class="math display">\[\begin{align*}
  &amp;  \text{Measurement Equation: }   y_t = \mu_t + \varepsilon_t,  \varepsilon_t \sim\left(0, \sigma_\varepsilon^2 \right)\\
  &amp;  \text{Transition Equation: }   \mu_{t+1} = \mu_t + \eta_t,  \eta_t \sim\left(0, \sigma_\eta^2 \right)\\
\end{align*}\]</span>
Note that this framework could be easily extended to a case where the agents receive multiple signals, observe different exogenous variables, allow for covariances among the noises in the measurement and transition equation, etc. Also, we consider here the special case where the transition equation follows a random walk process. Coming back to the example from above, the agent is interested in guessing the distribution of the underlying data generating process, given his observations of the time series <span class="math inline">\(Y_t = y_1, y_2, \dots, y_T\)</span>, and using this signal to predict the future outcome. Therefore, we are interested in the distribution of the predicted signal density <span class="math inline">\(f(\mu_{t+1}|Y_t) \equiv N \left( a_{t+1} , p_{t+1}\right)\)</span> (as all the noise is normal, the predicted signal will also be normally distributed). <span class="math inline">\(a_{t+1}\)</span> is simple the conditional expectation of the future outcome of <span class="math inline">\(\mu_t\)</span> (GDP forecast in the next quarter):
<span class="math display">\[
a_{t+1} = \mathbb{E}(\mu_{t+1} | Y_t) = \mathbb{E}( \mu_t + \eta_t| Y_t) = a_{t|t}
\]</span>
where <span class="math inline">\(a_{t|t}\)</span> is simply the result of the Kalman filter. Note that for a transition equation with <span class="math inline">\(\mu_{t+1} = \rho \mu_t + \eta_t, \rho &lt; 1\)</span>, <span class="math inline">\(a_{t+1}= \rho a_{t|t}\)</span>. Further, we have that
<span class="math display">\[
p_{t+1} = \mathbb{V}(\mu_t + \eta_t| Y_t) =  p_{t|t} + \sigma_\eta^2
\]</span>
Now, one can show that the result of the signal extraction (Kalman Filter) can be obtained by recursively solving the following system of equations (given a starting value for <span class="math inline">\(a_1\)</span> and <span class="math inline">\(p_1\)</span>).
<span class="math display">\[\begin{align*}
  &amp; v_t         = y_t - a_t \\
  &amp; k_t         = \frac{p_t}{p_t + \sigma_{\varepsilon}^2} \\
  &amp; a_{t|t}     = a_t + k_t v_t \\
  &amp; p_{t|t}     = k_t \sigma_{\varepsilon}^2  \\
  &amp; a_{t+1}     = a_{t|t} \\
  &amp; p_{t+1}     = p_{t|t} + \sigma_{\eta}^2
\end{align*}\]</span>
Given some starting values, we are now ready to calculate the Kalman Fitler and the predicted signal.</p>
</div>
<div id="kalman-filter" class="section level1">
<h1>Kalman Filter</h1>
<p>In this section, we simply simulate several time series with different parameter values. In detail, we use the model set-up described above together with initial conditions of <span class="math inline">\(\mu_1 \sim N (a_1 = 0, p_1 = 10^7)\)</span> and variances <span class="math inline">\(\sigma_{\varepsilon}^2 = 1\)</span> and <span class="math inline">\(\sigma_{\eta}^2 = q\)</span> with <span class="math inline">\(q\in \{10,1,0.1,0.001\}\)</span>.</p>
<p>Note that we simulated <code>100</code> time periods.</p>
<div id="htmlwidget-1" style="width:100%;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":[{".x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"y":[1335.22290213955,1332.98377617826,1331.44673197042,1335.14071744738,1338.04921672271,1336.00655007082,1343.72745576786,1347.79531284483,1350.85948782166,1350.33900809096,1343.80073886137,1341.20445890615,1343.71719744993,1343.08759300406,1344.90168948767,1346.49622106776,1343.0235865095,1344.13985194588,1340.55717129943,1338.56620431542,1339.56682125576,1345.39400953036,1345.25972377711,1350.11892297715,1347.09658111389,1350.19343169747,1353.94503382007,1351.48336335684,1349.029445952,1342.3047809799,1347.89189163088,1347.71945880608,1340.77095470731,1341.2121273147,1339.78238116443,1337.76313286331,1334.32303907842,1333.78028502963,1333.03809288377,1331.08157389467,1332.28063860746,1325.32457084567,1324.33209788087,1323.82874886655,1322.91092830785,1317.92799507284,1323.61591689719,1321.18244398604,1314.59338538396,1310.30187095398,1305.97546986318,1308.73060682503,1312.18609500632,1316.97215136687,1317.95774586287,1322.41975745766,1322.41945675656,1326.70045484073,1328.78138251203,1330.59000962379,1327.81325197242,1328.96338666762,1330.7214300752,1330.02702250026,1329.4109646011,1337.90551432693,1336.98203888001,1337.50862432418,1334.84009395854,1335.56595151669,1331.07205066998,1329.19331490713,1329.58501084445,1325.45813701719,1326.98031391763,1320.02157120574,1319.87701390199,1319.70770153419,1312.98220821394,1314.71694779818,1309.07217084416,1310.72098895372,1311.0983067155,1307.6651021711,1303.43713104304,1302.40632938976,1302.59745948705,1304.57655013197,1302.71175025652,1304.5822759181,1306.15643195799,1304.38837100337,1309.88124312227,1311.89818287715,1303.82259816669,1302.9974557036,1307.5300329491,1303.76633241475,1299.90666812042,1303.75304447178],"mode":"lines","legendgroup":"mu.t","showlegend":false,"type":"scatter","name":"mu.t","marker":{"color":"rgba(0,63,92,1)","line":{"color":"rgba(0,63,92,1)"}},"textfont":{"color":"rgba(0,63,92,1)"},"error_y":{"color":"rgba(0,63,92,1)"},"error_x":{"color":"rgba(0,63,92,1)"},"line":{"color":"rgba(0,63,92,1)"},"xaxis":"x","yaxis":"y","frame":null},{".x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"y":[1333.84174810886,1334.55043675878,1331.96525221768,1334.31090661926,1337.73313234046,1334.09595952062,1342.72719135565,1347.52088443646,1350.62287717961,1351.43346315362,1343.98060892834,1340.94309899788,1344.86071783583,1344.41932199888,1346.79039284657,1347.76857522625,1343.70934863354,1344.10349265279,1341.40559447808,1338.46743801471,1339.22429350908,1345.53071281973,1346.22385383245,1350.01022137356,1347.54460794868,1349.73458368041,1354.64592270676,1351.64712883722,1349.74866498799,1342.47436767157,1348.23492004397,1348.10040982194,1341.15269396197,1341.96388919044,1339.32687920864,1335.97453903005,1334.24570046527,1333.66770398393,1332.79454319205,1329.14037069578,1330.91784711567,1326.6588909796,1325.62741458472,1324.95403320296,1322.01906733234,1318.72274439512,1323.69284973866,1321.26839234147,1316.23635046407,1308.71197068913,1305.9430466348,1308.37894254084,1312.17763669682,1315.04988372797,1319.47154324847,1322.76858109849,1325.17165809235,1326.53390597122,1329.54215990902,1331.43634670025,1328.22519177691,1328.23920312904,1329.9440235383,1331.6284901092,1329.97275128845,1338.1821076433,1334.25899665881,1337.89998400357,1334.28426704965,1335.14175946522,1332.34021083876,1327.77591730586,1331.10923512872,1326.820232931,1326.91983939119,1319.83936488609,1319.9134283241,1320.01142004075,1313.43864293436,1315.81480819294,1308.75424217538,1311.21513288358,1310.2277285123,1307.18821697281,1304.21816502891,1301.59680100441,1301.34220768565,1303.88947163071,1301.75696540774,1305.27184411996,1307.3738664832,1303.63512969931,1310.04335323709,1312.6103844047,1303.50261939805,1303.66622694401,1307.88768927835,1304.03674156795,1299.00496086966,1302.95486325405],"mode":"lines","legendgroup":"y.t","showlegend":false,"type":"scatter","name":"y.t","marker":{"color":"rgba(255,99,97,1)","line":{"color":"rgba(255,99,97,1)"}},"textfont":{"color":"rgba(255,99,97,1)"},"error_y":{"color":"rgba(255,99,97,1)"},"error_x":{"color":"rgba(255,99,97,1)"},"line":{"color":"rgba(255,99,97,1)"},"xaxis":"x","yaxis":"y","frame":null},{".x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"y":[1335.22290213955,1334.48192026121,1333.43055146912,1333.69607803632,1333.99997003433,1333.54385717596,1334.9592801247,1335.0984254901,1337.74755220842,1335.7301304238,1335.07663738058,1336.62094803335,1335.58559091788,1334.30378996822,1333.4638553907,1334.91639817069,1335.12598680828,1335.22732730386,1335.14377422752,1334.50448375723,1335.10637162272,1335.13634169149,1334.29206302874,1334.37284273663,1335.27263188634,1335.57227032163,1337.71208925065,1337.44750200708,1336.06180895624,1333.7037625597,1334.04402961274,1335.7924113236,1333.83025076192,1334.13679640817,1334.40722041537,1333.85244959199,1332.69011994953,1333.04688513218,1332.42281906585,1331.86670596853,1332.61618203234,1330.47297983358,1330.04912846672,1327.88090091712,1326.51518290836,1328.01259411744,1326.36151178934,1327.81598669856,1326.87052383397,1326.12708949556,1325.52168669109,1326.51262667845,1326.23050073053,1326.84840297969,1325.81731245253,1325.45025479084,1324.59123916236,1324.70058173787,1323.67043485848,1324.72327692823,1325.7748687821,1326.25371955908,1326.05520190435,1327.12726103468,1326.06815592884,1327.90488882116,1329.05925432501,1326.41716503793,1326.74963584805,1326.41763633288,1327.20553755734,1328.33897135714,1327.90929540818,1325.81544542257,1326.54988618428,1328.22623821362,1326.04714869868,1325.811218514,1325.24182813095,1325.50565575931,1324.96708586158,1324.71677594225,1324.8844069907,1324.90713449097,1323.75218686015,1322.48229478628,1321.44763349559,1320.37196848339,1321.03001033337,1322.10067017739,1320.05722556125,1320.97784727343,1320.98269656994,1319.56738439743,1318.60855517931,1319.39297228918,1320.20549664677,1320.70868823146,1321.31438084858,1321.94429438171],"mode":"lines","legendgroup":"mu.t","showlegend":false,"type":"scatter","name":"mu.t","marker":{"color":"rgba(0,63,92,1)","line":{"color":"rgba(0,63,92,1)"}},"textfont":{"color":"rgba(0,63,92,1)"},"error_y":{"color":"rgba(0,63,92,1)"},"error_x":{"color":"rgba(0,63,92,1)"},"line":{"color":"rgba(0,63,92,1)"},"xaxis":"x2","yaxis":"y","frame":null},{".x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"y":[1334.36819419437,1333.59328658468,1334.13903991515,1332.39429419517,1334.46146015765,1334.84732578012,1335.42417567283,1336.42828645305,1337.36425807276,1335.19596107449,1334.35712188277,1335.55668864651,1336.5637253153,1335.2606783631,1332.00705473962,1333.34723108423,1335.55246393785,1333.88385218509,1335.90309116313,1334.67816896916,1334.18486326537,1335.69699316462,1334.35536630777,1335.94848908575,1335.58347105302,1335.60035823949,1338.84863186627,1335.77463100421,1335.45374951261,1334.44087321649,1335.91403094871,1333.45902168725,1333.90720345842,1334.2809697404,1335.22747522667,1334.82143941782,1332.84946091836,1333.475937621,1332.76146379875,1332.26396847893,1330.3387039214,1329.67041176998,1330.86202088829,1327.46311015397,1326.08285021135,1329.11247707714,1325.38601833988,1327.11865183744,1326.24661574733,1327.05813954261,1325.04831601356,1326.98225562839,1323.70810960091,1327.19178055701,1325.86919783637,1327.67366916159,1323.87338089688,1324.94436571002,1324.27624349563,1325.13452613595,1327.13798030357,1325.86551621411,1324.54400460358,1328.00697416064,1325.86485481538,1328.42776835867,1328.88120113485,1327.14668679372,1325.47440750014,1327.56807565607,1327.66943711853,1328.59841938071,1328.12542085827,1324.24043507753,1326.76799501318,1328.32864397817,1326.52577908496,1326.89539564617,1326.45219566042,1325.87038607118,1325.26062817852,1325.1502842312,1325.33434465739,1324.36621397208,1324.77763882532,1322.10116125346,1320.73317175625,1320.44704815096,1322.1208829019,1322.8117158321,1319.92452263692,1321.02142599982,1321.62011762085,1319.73200172022,1317.93339475066,1318.8248666918,1319.57030423953,1321.85554823204,1321.80528734821,1323.42777885641],"mode":"lines","legendgroup":"y.t","showlegend":false,"type":"scatter","name":"y.t","marker":{"color":"rgba(255,99,97,1)","line":{"color":"rgba(255,99,97,1)"}},"textfont":{"color":"rgba(255,99,97,1)"},"error_y":{"color":"rgba(255,99,97,1)"},"error_x":{"color":"rgba(255,99,97,1)"},"line":{"color":"rgba(255,99,97,1)"},"xaxis":"x2","yaxis":"y","frame":null},{".x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"y":[1335.22290213955,1334.85598546059,1334.44284857697,1334.69774000157,1335.22889749027,1335.04490816322,1334.6696398873,1334.67374428449,1334.20571260008,1334.91730007451,1335.14674898611,1335.55604955615,1335.11546087974,1335.07841003381,1335.55666267693,1335.65644508064,1335.36164021331,1335.11030396366,1335.15583480833,1334.84681620176,1334.85619071777,1335.11027569475,1335.09925306906,1335.38189916451,1335.64718286703,1335.75941433817,1335.61539120863,1335.14488363552,1335.37799135758,1335.2990903181,1335.03211687219,1334.9882410838,1335.20137267226,1335.1365078196,1335.57984919406,1335.53071609074,1336.17125153396,1335.72073669069,1336.25695247916,1336.2347954299,1336.49162763363,1336.53225108693,1336.27764494545,1337.01789309291,1337.31329449345,1337.46728525488,1337.38528871684,1337.18773199158,1336.96069142293,1336.30074886297,1335.40852960085,1335.57944722267,1335.60264199313,1335.61072980448,1336.08676004225,1335.90678431365,1336.2106638633,1336.0301050717,1335.85721362337,1336.024929316,1335.58227650702,1335.41065518664,1334.93234471263,1334.74636298708,1334.42065865539,1334.80436552329,1334.57041250252,1334.75258362092,1334.54024666483,1334.16944796043,1334.80985004293,1334.82293194063,1335.23016476309,1334.54066453895,1334.23119301315,1334.29328293031,1334.86902977985,1334.75331716057,1335.02776616619,1334.32832117503,1334.16253346259,1333.83696008114,1333.61647248647,1333.5579486547,1333.83271130876,1333.28598339007,1333.10647546566,1332.89054047638,1332.12313078601,1332.14390736486,1332.57231296961,1332.64152289526,1333.27936577173,1333.09927662086,1333.02258366662,1333.09487283971,1333.16716410137,1333.13633673741,1333.57738637907,1334.22584644719],"mode":"lines","legendgroup":"mu.t","showlegend":false,"type":"scatter","name":"mu.t","marker":{"color":"rgba(0,63,92,1)","line":{"color":"rgba(0,63,92,1)"}},"textfont":{"color":"rgba(0,63,92,1)"},"error_y":{"color":"rgba(0,63,92,1)"},"error_x":{"color":"rgba(0,63,92,1)"},"line":{"color":"rgba(0,63,92,1)"},"xaxis":"x3","yaxis":"y","frame":null},{".x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"y":[1333.91791547921,1335.31682039465,1333.45855176569,1333.6514029056,1334.00723521898,1332.92840172685,1335.07486544134,1334.22056439679,1335.33872259814,1335.56741367032,1334.26727154397,1337.84138335936,1336.29157796561,1334.97105370353,1335.14284910364,1336.99265368153,1335.17322129957,1336.89069339533,1334.71789048113,1333.71353533273,1335.87613701026,1335.28190504338,1336.72179052395,1334.63277024248,1334.24061218899,1337.12252657399,1334.63757545316,1333.03176134806,1336.815978571,1335.22554462491,1334.57082998648,1334.56766664621,1334.54191583933,1337.28052057753,1335.41240434738,1334.77826430251,1335.25124467028,1336.87162763708,1337.96620676642,1335.93622227413,1337.75280781863,1337.27414648209,1335.73498509731,1335.95569612289,1337.10225736227,1337.49527240944,1337.02263627547,1338.61343011395,1337.19934624226,1336.59452027806,1334.98971456072,1335.8654329732,1335.5002592549,1336.32331623474,1335.9955250617,1336.83109254459,1338.34301087619,1335.62089962817,1336.20636223161,1335.00762159201,1334.62539790782,1334.55728538535,1335.68195104411,1335.46373857594,1334.99417259798,1336.38554601227,1334.94048088473,1335.25489928246,1336.36642950464,1334.09200605356,1333.13952858139,1334.32693065993,1336.51934112452,1334.77941167143,1334.8261247834,1333.87703865062,1333.37100996273,1333.3025983515,1337.22748213731,1332.99242033571,1333.45429899991,1332.66718222377,1334.94069993924,1333.11594808436,1333.30635656008,1331.3279288503,1334.11878973268,1332.39015990522,1332.50199522107,1333.02304062199,1331.70988942888,1332.86961766589,1333.03668370735,1332.91665084692,1332.15183432039,1332.42163387153,1333.09444906525,1332.72305495859,1335.12403522301,1334.42213335902],"mode":"lines","legendgroup":"y.t","showlegend":false,"type":"scatter","name":"y.t","marker":{"color":"rgba(255,99,97,1)","line":{"color":"rgba(255,99,97,1)"}},"textfont":{"color":"rgba(255,99,97,1)"},"error_y":{"color":"rgba(255,99,97,1)"},"error_x":{"color":"rgba(255,99,97,1)"},"line":{"color":"rgba(255,99,97,1)"},"xaxis":"x3","yaxis":"y","frame":null},{".x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"y":[1335.22290213955,1335.20253781995,1335.16898253251,1335.16487883939,1335.17878475007,1335.22728364776,1335.24608071912,1335.26291451819,1335.30463354149,1335.34199136288,1335.32027182299,1335.29696011381,1335.32343125144,1335.32720378285,1335.28123789757,1335.32079918413,1335.37731478838,1335.34824808381,1335.33103640335,1335.30921839534,1335.319218254,1335.31488936603,1335.34209220225,1335.36736759776,1335.38821417152,1335.35745076802,1335.34020132016,1335.34684383387,1335.27843603754,1335.33484741962,1335.34215789535,1335.35846975596,1335.408450616,1335.3985770698,1335.35636062066,1335.33389182256,1335.30959705343,1335.30945494495,1335.29141812463,1335.28204132156,1335.2328167263,1335.24857583312,1335.20387755877,1335.22214464301,1335.2032708775,1335.12039695598,1335.13090309992,1335.14531408675,1335.1459683568,1335.10211275374,1335.03040880888,1335.06954869621,1335.07862761079,1335.13955245939,1335.1273457006,1335.23108592457,1335.25939720935,1335.21604799105,1335.2549596243,1335.20008999069,1335.16802700353,1335.14574054202,1335.18913816218,1335.1868909983,1335.14252679234,1335.19691774564,1335.24152083347,1335.27984477383,1335.2595769802,1335.24370228547,1335.22113093159,1335.27718776158,1335.27722066652,1335.25760066278,1335.2450058952,1335.22224884713,1335.28868600158,1335.31772477292,1335.3270450198,1335.31504804942,1335.31397887783,1335.28341797376,1335.27162684852,1335.21057395517,1335.19103819505,1335.20542082999,1335.21393765141,1335.22615785357,1335.16013060393,1335.17160223048,1335.20031158077,1335.11159829802,1335.0573452631,1335.05814443866,1335.05061392238,1334.97664739846,1335.02792644604,1335.01309706446,1335.05179995805,1335.04940048286],"mode":"lines","legendgroup":"mu.t","showlegend":true,"type":"scatter","name":"mu.t","marker":{"color":"rgba(0,63,92,1)","line":{"color":"rgba(0,63,92,1)"}},"textfont":{"color":"rgba(0,63,92,1)"},"error_y":{"color":"rgba(0,63,92,1)"},"error_x":{"color":"rgba(0,63,92,1)"},"line":{"color":"rgba(0,63,92,1)"},"xaxis":"x4","yaxis":"y","frame":null},{".x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"y":[1332.33031239442,1334.82557129337,1335.75979609693,1333.23182070313,1336.27001701317,1336.57956810695,1334.2451984238,1334.49898295433,1333.99262664574,1335.57877460938,1335.08335619287,1335.22821479,1335.21307148648,1335.00121872136,1334.91190407648,1336.50687872333,1334.37860134048,1334.93493736158,1335.12839969767,1336.58190633626,1334.85761151842,1334.25809869966,1334.17470565986,1335.21517901957,1337.13522126797,1336.08917426742,1334.75837939207,1335.06222489838,1336.57849162472,1337.27529914535,1334.80744229758,1336.27939053186,1335.08420308065,1334.42344064024,1335.38830211296,1333.52823671393,1336.99665693862,1337.55955597967,1334.55374107155,1334.73866553396,1334.18203100363,1336.74480310408,1336.01992533836,1334.97369493515,1334.04323907749,1335.69800704086,1335.17027899316,1335.21885141842,1333.90801798685,1333.10943934399,1336.1208477715,1336.95184710765,1336.64987277972,1334.65600196401,1335.97201818427,1334.3957660732,1334.07617737848,1335.09040191629,1334.61798498341,1335.24428801998,1333.86567054035,1337.1095352082,1335.42358859193,1335.0012462427,1335.45282900012,1335.60818225879,1334.63639041349,1335.36055744276,1335.10286546419,1337.26019138035,1335.14724273084,1337.68786860251,1335.28880784852,1336.2312599584,1335.73209634686,1335.11284681945,1333.46456141525,1336.24776692826,1335.00900278613,1335.34366730698,1337.51141701294,1334.55132221606,1336.41016466347,1335.08728137003,1334.95215653792,1334.92973934001,1334.8958848161,1333.9975149115,1333.40476116609,1332.95471087933,1334.96114153678,1336.36764902733,1336.63303408978,1334.25620020656,1334.75454262285,1335.28905700245,1334.39739920198,1334.8284327737,1335.71368823918,1335.61526016481],"mode":"lines","legendgroup":"y.t","showlegend":true,"type":"scatter","name":"y.t","marker":{"color":"rgba(255,99,97,1)","line":{"color":"rgba(255,99,97,1)"}},"textfont":{"color":"rgba(255,99,97,1)"},"error_y":{"color":"rgba(255,99,97,1)"},"error_x":{"color":"rgba(255,99,97,1)"},"line":{"color":"rgba(255,99,97,1)"},"xaxis":"x4","yaxis":"y","frame":null}],"layout":{"xaxis":{"domain":[0,0.23],"automargin":true,"title":"t <br> q = 10","anchor":"y"},"xaxis2":{"domain":[0.27,0.48],"automargin":true,"title":"t <br> q = 1","anchor":"y"},"xaxis3":{"domain":[0.52,0.73],"automargin":true,"title":"t <br> q = 0.1","anchor":"y"},"xaxis4":{"domain":[0.77,1],"automargin":true,"title":"t <br> q = 0.001","anchor":"y"},"yaxis":{"domain":[0,1],"automargin":true,"title":"value","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"title":"$ \\text{Actual Data } \\mu_t \\text{ and Observed Noisy Signal }  y_t $","hovermode":"closest","showlegend":true},"attrs":{"6efac7cda4a":{".x":{},"y":{},"mode":"lines","legendgroup":{},"showlegend":false,"color":{},"colors":["#003f5c","#ff6361"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"6efa58df36ad":{".x":{},"y":{},"mode":"lines","legendgroup":{},"showlegend":false,"color":{},"colors":["#003f5c","#ff6361"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"6efa267ec570":{".x":{},"y":{},"mode":"lines","legendgroup":{},"showlegend":false,"color":{},"colors":["#003f5c","#ff6361"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"6efa4cd44fce":{".x":{},"y":{},"mode":"lines","legendgroup":{},"showlegend":true,"color":{},"colors":["#003f5c","#ff6361"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>For the Kalmna Filter that we will calculate below, a parameter of interest is the signal-to-noise ratio. This ratio is defined given by <span class="math inline">\(\frac{\sigma_\eta^2}{\sigma_\varepsilon^2}\)</span>. In our example above, the variance of the data the agent observes, <span class="math inline">\(\sigma_\varepsilon^2\)</span>, is fixed to 1. However, the variance of the data generating process, <span class="math inline">\(\sigma_\eta^2\)</span>, varies. As <span class="math inline">\(\sigma_\varepsilon^2\)</span> is fixed to 1, <span class="math inline">\(q\)</span> directly indicates the signal-to-noise ratio. The higher this ratio is, the more of the variation the agent observes in the time series <span class="math inline">\(y_t\)</span> actually stemms from variations in the true data generating process. In that sense, the signal observed is very informative about the true data generating process. In other words, the signal <span class="math inline">\(y_t\)</span> observed is a very good indicator of the true <span class="math inline">\(mu_t\)</span>. This is represented in the graph - The higher the signal-to-noise ratio, the closer the two time series are. Consequently, the more informative the signal observed by the agent is about the <span class="math inline">\(mu_t\)</span>.</p>
<p>Using the generated time series of the signal, we can now calcualte the Kalman filter as described below. Some code snippets are attached as well.</p>
</div>
